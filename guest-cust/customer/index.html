<!DOCTYPE html>
<html lang="en">

<head>
  <title>ThriftHub Malaysia | Homepage</title>

  <meta charset="utf-8">
  <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="">

  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700%7COpen+Sans:400,400i,600,700' rel='stylesheet'>

  <!-- Css -->
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/magnific-popup.css" />
  <link rel="stylesheet" href="css/font-icons.css" />
  <link rel="stylesheet" href="css/sliders.css" /> <!-- Ensure this includes Owl Carousel styles -->
  <link rel="stylesheet" href="css/style.min.css" />
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">

  <!-- Jawi Font (Optional: Add a Jawi-specific font for rendering) -->
  <link href="https://fonts.googleapis.com/css2?family=Scheherazade&display=swap" rel="stylesheet">

  <!-- Favicons -->
  <link rel="shortcut icon" href="img/favicon.ico">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">

  <!-- Firebase Scripts (as modules) -->
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>
  <script type="module" src="/guest-cust/customer/auth/firebase.js"></script> <!-- Updated path -->
</head>

<body class="relative">

  <!-- Preloader -->
  <div class="loader-mask">
    <div class="loader">
      <div></div>
      <div></div>
    </div>
  </div>

  <!-- Ramadan/Hari Raya Notification Pop-Up with Sound Enable -->
  <div id="ramadanPopup" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: rgba(0, 0, 0, 0.7); z-index: 1000; display: flex; align-items: center; justify-content: center; color: #fff; text-align: center;">
    <div style="background: #fff; color: #333;  border-radius: 10px; max-width: 800px;display: flex; flex-direction: row; align-items: center;">
        <div style="text-align: left; flex: 1; padding-right: 10px;padding: 20px;">
            <h2>Wishing You a Blessed Ramadan & Joyous Hari Raya!</h2><br>
            <p>Enjoy exclusive offers on ThriftHub Malaysia during this festive season. Shop now for amazing deals!</p><br><br>
            <button id="close" style="padding: 7px 20px; background-color: #71a888; color: #fff; border: none; border-radius: 5px; cursor: pointer; font-size: 15px; margin-top: 10px;">Close</button>
        </div>
        <div style="flex: 1; display: flex; justify-content: center; align-items: center;">
            <!-- Placeholder for photo/image -->
            <img src="img/ramadan.jpg" style="max-width: 100%; height: auto; border-radius: 10px;">
        </div>
    </div>
 </div>

  <main class="main-wrapper">

    <header class="nav-type-1">

      <!-- Fullscreen search -->
      <div class="search-wrap">
        <div class="search-inner">
          <div class="search-cell">
            <form method="get">
              <div class="search-field-holder">
                <input type="search" class="form-control main-search-input" placeholder="Search for">
                <i class="ui-close search-close" id="search-close"></i>
              </div>            
            </form>
          </div>
        </div>        
      </div> <!-- end fullscreen search -->

      <!-- Top Bar -->
      <div class="top-bar hidden-xs">
        <div class="container">
          <div class="top-bar-links flex-parent">
            <ul class="top-bar-currency-language">
              <li>
                Currency: <a href="#">MYR<i class="fa fa-angle-down"></i></a>
                <div class="currency-dropdown">
                  <ul>
                    <li><a href="#">MYR</a></li>
                    <li><a href="#">SGD</a></li>
                  </ul>
                </div>
              </li>
              <li class="language">
                Language: <a href="#" id="currentLanguage">ENG<i class="fa fa-angle-down"></i></a>
                <div class="language-dropdown">
                  <ul>
                    <li><a href="#" class="language-option" data-lang="en">English</a></li>
                    <li><a href="#" class="language-option" data-lang="ms">Malay</a></li>
                    <li><a href="#" class="language-option" data-lang="zh">Chinese (Simplified)</a></li>
                    <li><a href="#" class="language-option" data-lang="zh-TW">Chinese (Traditional)</a></li>
                    <li><a href="#" class="language-option" data-lang="ko">Korean</a></li>
                    <li><a href="#" class="language-option" data-lang="ja">Japanese</a></li>
                    <li><a href="#" class="language-option" data-lang="ms-Arab">Malay (Jawi)</a></li>
                    <li><a href="#" class="language-option" data-lang="ta">Tamil</a></li>
                  </ul>
                </div>
              </li>
            </ul>
            <ul class="top-bar-acc" style="margin-right: 38%;">
              Pre-Raya Sale: Enjoy Free Shipping! <a href="m-tops.html" style="color:darkgoldenrod;">Shop Now</a>
            </ul>
          </div>
        </div>
      </div> <!-- end top bar -->

      <nav class="navbar navbar-responsive-top">
        <div class="navigation" id="sticky-nav">
          <div class="container relative">
            <nav class="navbar navbar-static-top">
              <div class="navigation" id="sticky-nav">
                <div class="container relative">
                  <div class="row flex-parent">
                    <div class="nav-wrap flex-child" style="margin-left: -60px;">
                      <div class="collapse navbar-collapse text-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">
                          <li class="dropdown">
                            <a href="#">Shop</a>
                            <i class="fa fa-angle-down dropdown-trigger"></i>
                            <ul class="dropdown-menu megamenu-wide">
                              <li>
                                <div class="megamenu-wrap container">
                                  <div class="row">
                                    <div class="col-md-2 megamenu-item"></div>
                                    <div class="col-md-3 megamenu-item">
                                      <ul class="menu-list">
                                        <li><span>For Him</span></li>
                                        <li><a href="m-tops.html">Men's Tops & Bottoms</a></li>
                                        <li><a href="m-foot.html">Men's Footwear</a></li>
                                        <li><a href="m-acc.html">Men's Accessories</a></li>
                                        <li><a href="m-bag.html">Men's Bags & Wallets</a></li>
                                      </ul>
                                    </div>
                                    <div class="col-md-3 megamenu-item">
                                      <ul class="menu-list">
                                        <li><span>For Her</span></li>
                                        <li><a href="w-tops.html">Women's Tops & Bottoms</a></li>
                                        <li><a href="w-foot.html">Women's Footwear</a></li>
                                        <li><a href="w-acc.html">Women's Accessories</a></li>
                                        <li><a href="w-bag.html">Women's Bags & Wallets</a></li>
                                      </ul>
                                    </div>
                                    <div class="col-md-3 megamenu-item">
                                      <ul class="menu-list">
                                        <li><span>For Kids</span></li>
                                        <li><a href="kids.html">Kids Fashion</a></li>
                                        <li><a href="kids-foot.html">Kids Footwear</a></li>
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                              </li>
                            </ul>
                          </li>
                          <li class="dropdown"><a href="about-us.html">About Us</a></li>
                          <li class="dropdown"><a href="contact.html">Contact Us</a></li>
                          <li class="dropdown"><a href="faq.html">F.A.Q</a></li>
                        </ul>
                      </div>
                    </div>
                    <div class="navbar-header flex-child" style="margin-left: -130px;">
                      <!-- Logo -->
                      <div class="logo-wrap">
                        <a href="index.html">
                          <img class="thrifthub" width="160" height="50" src="img/thrifthub lg v1.png" alt="ThriftHub Logo">
                        </a>
                      </div>
                      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                      </button>
                      <!-- Mobile cart -->
                      <div class="nav-cart mobile-cart hidden-lg hidden-md">
                        <div class="nav-cart-outer">
                          <div class="nav-cart-inner">
                            <a href="#" class="nav-cart-icon"></a>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="flex-child flex-right nav-right hidden-sm hidden-xs">
                      <ul>
                        <li class="nav-register"><a href="myaccount.html"><i class="fa fa-user"></i></a></li>
                        <li class="nav-search-wrap style-2 hidden-sm hidden-xs">
                          <a href="#" class="nav-search search-trigger"><i class="fa fa-search"></i></a>
                        </li>
                        <li class="nav-cart">
                          <div class="nav-cart-outer">
                            <div class="nav-cart-inner">
                              <a href="#" class="nav-cart-icon" id="cartIcon">
                                <span class="nav-cart-badge" id="cartBadge">0</span>
                              </a>
                            </div>
                          </div>
                          <div class="nav-cart-container">
                            <div class="nav-cart-items" id="navCartItems">
                              <!-- Cart items will be dynamically inserted here -->
                            </div>
                            <div class="nav-cart-summary">
                              <span>Cart Subtotal</span>
                              <span class="total-price" id="navCartSubtotal">RM0.00</span>
                            </div>
                            <div class="nav-cart-actions mt-20">
                              <a href="shop-cart.html" class="btn btn-md btn-dark"><span>View Cart</span></a>
                              <a href="shop-checkout.html" class="btn btn-md btn-color mt-10"><span>Proceed to Checkout</span></a>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </nav>
          </div>
        </div>
      </nav>
    </header>

    <div class="content-wrapper oh">

      <!-- Hero Slider -->
      <section class="hero-wrap text-center relative">
        <div id="owl-hero" class="owl-carousel owl-theme light-arrows slider-animated">
          <!-- Video Slide with Firebase Storage Video -->
          <div class="hero-slide overlay">
            <video class="hero-video" id="firebaseVideo" controls autoplay muted playsinline>
              <source id="videoSource" src="" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Explore ThriftHub 2025</h1>
                  <h2 class="hero-subtitle lines">Discover Affordable Thrift Shopping</h2>
                </div>
              </div>
            </div>
          </div>

          <!-- Existing Image Slides -->
          <div class="hero-slide overlay" style="background-image:url(img/hero/pexels-cottonbro-6068964.jpg)">
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Let's Thrift 2025</h1>
                  <h2 class="hero-subtitle lines">ThriftHub Malaysia</h2>
                  <div class="buttons-holder" style="margin-top: 1%;">
                    <a href="m-tops.html" class="btn btn-lg btn-transparent"><span>Shop Now</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="hero-slide overlay" style="background-image:url(img/hero/pexels-mallonymedia-4903411.jpg)">
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Exclusive Products</h1>
                  <h2 class="hero-subtitle lines">Get awesome items only in ThriftHub Malaysia</h2>
                  <div class="buttons-holder" style="margin-top: 1%;">
                    <a href="m-tops.html" class="btn btn-lg btn-transparent"><span>Shop Now</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="hero-slide overlay" style="background-image:url(img/hero/IMG_0944.JPG)">
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Enjoy Online Shopping</h1>
                  <h2 class="hero-subtitle lines">ThriftHub Malaysia</h2>
                  <div class="buttons-holder" style="margin-top: 1%;">
                    <a href="m-tops.html" class="btn btn-lg btn-transparent"><span>Shop Now</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section> <!-- end hero slider -->

      <!-- Promo Banners -->
      <section class="section-wrap promo-banners pb-30">
        <div class="container">
          <div class="row">
            <div class="col-xs-4 col-xxs-12 mb-30 promo-banner">
              <a href="m-tops.html">
                <img src="img/hero/IMG_1236.JPG" width="360" height="620" alt="">
                <div class="overlay"></div>
                <div class="promo-inner valign">
                  <h2>for him</h2>
                  <span>Best Selling Deals</span>
                </div>
              </a>
            </div>
            <div class="col-xs-4 col-xxs-12 mb-30 promo-banner">
              <a href="w-tops.html">
                <img src="img/hero/homewomen.jpg" width="360" height="620" alt="">
                <div class="overlay"></div>
                <div class="promo-inner valign">
                  <h2>for her</h2>
                  <span>Hot Trends</span>
                </div>
              </a>
            </div>
            <div class="col-xs-4 col-xxs-12 mb-30 promo-banner">
              <a href="kids.html">
                <img src="img/hero/homekids.jpg" width="360" height="620" alt="">
                <div class="overlay"></div>
                <div class="promo-inner valign">
                  <h2>for kids</h2>
                  <span>New Collection</span>
                </div>
              </a>
            </div>
          </div>
        </div>
      </section> <!-- end promo banners -->

      <!-- Newsletter -->
      <!-- MailerLite Styles -->
<style type="text/css">
  @import url("https://assets.mlcdn.com/fonts.css?version=1741084");

  /* Base Styles */
  #mlb2-23337095.ml-form-embedContainer {
    box-sizing: border-box;
    display: table;
    margin: 0 auto;
    position: static;
    width: 100%;
  }

  #mlb2-23337095.ml-form-embedContainer h4,
  #mlb2-23337095.ml-form-embedContainer p,
  #mlb2-23337095.ml-form-embedContainer span,
  #mlb2-23337095.ml-form-embedContainer button {
    text-transform: none !important;
    letter-spacing: normal !important;
  }

  /* Form Wrapper */
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper {
    background-color: #f6f6f6;
    border: 0px solid transparent;
    border-radius: 4px;
    box-sizing: border-box;
    display: inline-block !important;
    margin: 0;
    padding: 0;
    position: relative;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper.embedPopup,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper.embedDefault {
    width: 400px;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper.embedForm {
    max-width: 400px;
    width: 100%;
  }

  /* Alignment Classes */
  #mlb2-23337095.ml-form-embedContainer .ml-form-align-left { text-align: left; }
  #mlb2-23337095.ml-form-embedContainer .ml-form-align-center { text-align: center; }
  #mlb2-23337095.ml-form-embedContainer .ml-form-align-default {
    display: table-cell !important;
    vertical-align: middle !important;
    text-align: center !important;
  }
  #mlb2-23337095.ml-form-embedContainer .ml-form-align-right { text-align: right; }

  /* Form Body and Content */
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody {
    padding: 20px 20px 0;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody.ml-form-embedBodyHorizontal {
    padding-bottom: 0;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent {
    text-align: left;
    margin: 0 0 20px;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent h4,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent h4 {
    color: #000000;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 30px;
    font-weight: 700;
    margin: 0 0 10px;
    text-align: center;
    word-break: break-word;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent p,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent p {
    color: #000000;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: 400;
    line-height: 20px;
    margin: 0 0 10px;
    text-align: center;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent p:last-child,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent p:last-child {
    margin: 0;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent p a,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent p a {
    color: #000000;
    text-decoration: underline;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ul,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ol,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent ul,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-successBody .ml-form-successContent ol {
    color: #000000;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 14px;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ol ol {
    list-style-type: lower-alpha;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedContent ol ol ol {
    list-style-type: lower-roman;
  }

  /* Form Fields */
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-block-form .ml-field-group {
    text-align: left !important;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-block-form .ml-field-group label {
    margin-bottom: 5px;
    color: #333333;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: bold;
    line-height: 20px;
    display: inline-block;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody form {
    margin: 0;
    width: 100%;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-formContent,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow {
    margin: 0 0 20px;
    width: 100%;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow {
    float: left;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-formContent.horozintalForm {
    margin: 0;
    padding: 0 0 20px;
    width: 100%;
    height: auto;
    float: left;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow {
    margin: 0 0 10px;
    width: 100%;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow.ml-last-item {
    margin: 0;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow.ml-formfieldHorizintal {
    margin: 0;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow textarea,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow textarea {
    background-color: #ffffff !important;
    color: #333333 !important;
    border: 1px solid #cccccc;
    border-radius: 4px;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 14px;
    line-height: 21px;
    padding: 10px;
    width: 100%;
    box-sizing: border-box;
    max-width: 100%;
    height: auto;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input::-webkit-input-placeholder,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input::-webkit-input-placeholder,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input::-moz-placeholder,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input::-moz-placeholder,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input:-ms-input-placeholder,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input:-ms-input-placeholder,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow input:-moz-placeholder,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow input:-moz-placeholder {
    color: #333333;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-select,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-select {
    background-color: #ffffff !important;
    color: #333333 !important;
    border: 1px solid #cccccc;
    border-radius: 4px;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 14px;
    line-height: 20px;
    padding: 10px 28px 10px 12px;
    width: 100%;
    box-sizing: border-box;
    max-width: 100%;
    height: auto;
    display: inline-block;
    vertical-align: middle;
    background: url('https://assets.mlcdn.com/ml/images/default/dropdown.svg') no-repeat right .75rem center/8px 10px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  /* Checkbox and Radio Styles */
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-control,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-control {
    position: relative;
    display: block;
    min-height: 1.5rem;
    padding-left: 1.5rem;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-input,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-input,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-input,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-input {
    position: absolute;
    z-index: -1;
    opacity: 0;
    box-sizing: border-box;
    padding: 0;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-label,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-label,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-label,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-label {
    color: #000000;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 12px;
    font-weight: 700;
    line-height: 22px;
    margin-bottom: 0;
    position: relative;
    vertical-align: top;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-control-label::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-control-label::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::before {
    position: absolute;
    top: 4px;
    left: -1.5rem;
    width: 16px;
    height: 16px;
    content: "";
    background-color: #ffffff;
    border: 1px solid #adb5bd;
    border-radius: 50%;
    pointer-events: none;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-control-label::after,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-control-label::after,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::after,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::after,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::after {
    position: absolute;
    top: 2px;
    left: -1.5rem;
    width: 1rem;
    height: 1rem;
    content: "";
    background: no-repeat 50%/50% 50%;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-label::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e");
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-label::after,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox .label-description::after,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox .label-description::after,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3e%3c/svg%3e");
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-radio .custom-control-input:checked~.custom-control-label::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-radio .custom-control-input:checked~.custom-control-label::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-fieldRow .custom-checkbox .custom-control-input:checked~.custom-control-label::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow .custom-checkbox .custom-control-input:checked~.custom-control-label::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedPermissions .ml-form-embedPermissionsOptionsCheckbox input[type=checkbox]:checked~.label-description::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-interestGroupsRow .ml-form-interestGroupsRowCheckbox input[type=checkbox]:checked~.label-description::before,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow input[type=checkbox]:checked~.label-description::before {
    border-color: #000000 !important;
    background-color: #000000 !important;
  }

  /* Horizontal Form Layout */
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow {
    height: auto;
    width: 100%;
    float: left;
  }

  .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-input-horizontal {
    width: 70%;
    float: left;
  }

  .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-button-horizontal {
    width: 30%;
    float: left;
  }

  .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-button-horizontal.labelsOn {
    padding-top: 25px;
  }

  .ml-form-formContent.horozintalForm .ml-form-horizontalRow .horizontal-fields {
    box-sizing: border-box;
    float: left;
    padding-right: 10px;
  }

  /* Buttons */
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow button,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedSubmit button {
    background-color: #000000 !important;
    border: 1px solid #000000;
    border-radius: 4px;
    box-shadow: none;
    color: #ffffff !important;
    cursor: pointer;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-weight: 700;
    line-height: 20px;
    padding: 10px;
    width: 100%;
    height: auto;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-horizontalRow button:hover,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedSubmit button:hover {
    background-color: #333333 !important;
    border-color: #333333 !important;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-embedSubmit button.loading {
    display: none;
  }

  /* Checkbox and Radio Labels */
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow {
    float: left;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow input[type="checkbox"] {
    box-sizing: border-box;
    padding: 0;
    position: absolute;
    z-index: -1;
    opacity: 0;
    margin-top: 5px;
    margin-left: -1.5rem;
    overflow: visible;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow .label-description {
    color: #000000;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif;
    font-size: 12px;
    text-align: left;
    margin-bottom: 0;
    position: relative;
    vertical-align: top;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label {
    font-weight: normal;
    margin: 0;
    padding: 0;
    position: relative;
    display: block;
    min-height: 24px;
    padding-left: 24px;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label a {
    color: #000000;
    text-decoration: underline;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label p {
    color: #000000 !important;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif !important;
    font-size: 12px !important;
    font-weight: normal !important;
    line-height: 18px !important;
    padding: 0 !important;
    margin: 0 5px 0 0 !important;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow label p:last-child {
    margin: 0;
  }

  /* Submit Button Loader */
  .ml-form-embedSubmitLoad {
    display: inline-block;
    width: 20px;
    height: 20px;
  }

  .ml-form-embedSubmitLoad:after {
    content: " ";
    display: block;
    width: 11px;
    height: 11px;
    margin: 1px;
    border-radius: 50%;
    border: 4px solid #fff;
    border-color: #ffffff #ffffff #ffffff transparent;
    animation: ml-form-embedSubmitLoad 1.2s linear infinite;
  }

  @keyframes ml-form-embedSubmitLoad {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Error States */
  .ml-error input, .ml-error textarea, .ml-error select {
    border-color: red !important;
  }

  .ml-error .custom-checkbox-radio-list {
    border: 1px solid red !important;
    border-radius: 4px;
    padding: 10px;
  }

  .ml-error .label-description,
  .ml-error .label-description p,
  .ml-error .label-description p a,
  .ml-error label:first-child {
    color: #ff0000 !important;
  }

  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow.ml-error .label-description p,
  #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-checkboxRow.ml-error .label-description p:first-letter {
    color: #ff0000 !important;
  }

  /* Responsive Design */
  @media only screen and (max-width: 400px) {
    .ml-form-embedWrapper.embedDefault, .ml-form-embedWrapper.embedPopup { width: 100% !important; }
    .ml-form-formContent.horozintalForm { float: left !important; }
    .ml-form-formContent.horozintalForm .ml-form-horizontalRow {
      height: auto !important;
      width: 100% !important;
      float: left !important;
    }
    .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-input-horizontal { width: 100% !important; }
    .ml-form-formContent.horozintalForm .ml-form-horizontalRow .ml-input-horizontal > div {
      padding-right: 0 !important;
      padding-bottom: 10px;
    }
    .ml-form-formContent.horozintalForm .ml-button-horizontal { width: 100% !important; }
    .ml-form-formContent.horozintalForm .ml-button-horizontal.labelsOn { padding-top: 0 !important; }
    .ml-form-formContent.horozintalForm .ml-form-horizontalRow .horizontal-fields {
      margin-bottom: 10px !important;
      width: 100% !important;
    }
    .ml-hide-horizontal { display: none !important; }
    .ml-form-formContent.horozintalForm .ml-button-horizontal { display: none !important; }
    .ml-mobileButton-horizontal {
      display: inline-block !important;
      margin-bottom: 20px;
      width: 100%;
    }
    #mlb2-23337095.ml-form-embedContainer .ml-form-embedWrapper .ml-form-embedBody .ml-form-formContent.horozintalForm {
      padding: 0 0 10px 0 !important;
    }
  }

  /* Mobile Button */
  .ml-mobileButton-horizontal { display: none; }

  #mlb2-23337095 .ml-mobileButton-horizontal button {
    background-color: #000000 !important;
    border: 1px solid #000000 !important;
    border-radius: 4px !important;
    box-shadow: none !important;
    color: #ffffff !important;
    cursor: pointer;
    font-family: 'Open Sans', Arial, Helvetica, sans-serif !important;
    font-size: 14px !important;
    font-weight: 700 !important;
    line-height: 20px !important;
    padding: 10px !important;
    width: 100% !important;
  }

  /* Accessibility and Other Utilities */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
  }

  .g-recaptcha {
    transform: scale(1);
    -webkit-transform: scale(1);
    transform-origin: 0 0;
    -webkit-transform-origin: 0 0;
  }

  /* Jawi-specific styling */
  .jawi-text {
    font-family: 'Scheherazade', Arial, sans-serif;
  }
</style>

<!-- MailerLite Form HTML -->
<div id="mlb2-23337095" class="ml-form-embedContainer ml-subscribe-form ml-subscribe-form-23337095">
  <div class="ml-form-align-center">
    <div class="ml-form-embedWrapper embedForm">
      <div class="ml-form-embedBody ml-form-embedBodyHorizontal row-form">
        <div class="ml-form-embedContent">
          <h4>Newsletter</h4>
          <p>Signup for special offers !</p>
        </div>
        <form class="ml-block-form" action="https://assets.mailerlite.com/jsonp/1367509/forms/147997468345239269/subscribe" data-code="" method="post" target="_blank">
          <div class="ml-form-formContent horozintalForm">
            <div class="ml-form-horizontalRow">
              <div class="ml-input-horizontal">
                <div class="horizontal-fields" style="width: 100%;">
                  <div class="ml-field-group ml-field-email ml-validate-email ml-validate-required">
                    <input type="email" class="form-control" data-inputmask="" name="fields[email]" placeholder="Email" autocomplete="email">
                  </div>
                </div>
              </div>
              <div class="ml-button-horizontal primary">
                <button type="submit" class="primary">Subscribe</button>
                <button disabled="disabled" style="display: none;" type="button" class="loading">
                  <div class="ml-form-embedSubmitLoad"></div>
                  <span class="sr-only">Loading...</span>
                </button>
              </div>
            </div>
          </div>
          <input type="hidden" name="ml-submit" value="1">
          <div class="ml-mobileButton-horizontal">
            <button type="submit" class="primary">Subscribe</button>
            <button disabled="disabled" style="display: none;" type="button" class="loading">
              <div class="ml-form-embedSubmitLoad"></div>
              <span class="sr-only">Loading...</span>
            </button>
          </div>
          <input type="hidden" name="anticsrf" value="true">
        </form>
      </div>
      <div class="ml-form-successBody row-success" style="display: none">
        <div class="ml-form-successContent">
          <h4>Thank you!</h4>
          <p>You have successfully joined our subscriber list.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function ml_webform_success_23337095() {
    var $ = ml_jQuery || jQuery;
    $('.ml-subscribe-form-23337095 .row-success').show();
    $('.ml-subscribe-form-23337095 .row-form').hide();
  }
</script>
<script src="https://groot.mailerlite.com/js/w/webforms.min.js?v176e10baa5e7ed80d35ae235be3d5024" type="text/javascript"></script>
<script>
  fetch("https://assets.mailerlite.com/jsonp/1367509/forms/147997468345239269/takel")
</script>

      <!-- Footer Type-1 -->
      <footer class="footer footer-type-1">
        <div class="container">
          <div class="footer-widgets">
            <div class="row">
              <div class="col-md-3 col-sm-12 col-xs-12">
                <div class="widget footer-about-us">
                  <img src="img/thrifthub lg v1.png" alt="" class="logo">
                  <p class="mb-40">ThriftHub store offers wide variety of used clothes at an affordable price.</p>
                  <div class="footer-socials">
                    <div class="social-icons nobase">
                      <a href="https://x.com/thrifthub_mls?s=21"><i class="fa fa-twitter"></i></a>
                      <a href="https://www.facebook.com/share/15CSCqVAFu/?mibextid=wwXIfr"><i class="fa fa-facebook"></i></a>
                      <a href="https://www.instagram.com/thrifthub_malaysia?igsh=YTFoYWFlMDB1Nmc2&utm_source=qr"><i class="fa fa-instagram"></i></a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-2 col-md-offset-1 col-sm-4 col-xs-12">
                <div class="widget footer-links">
                  <h5 class="widget-title bottom-line left-align grey">Explore</h5>
                  <ul class="list-no-dividers">
                    <li><a href="m-tops.html">Mens</a></li>
                    <li><a href="w-tops.html">Womens</a></li>
                    <li><a href="kids.html">Kids</a></li>
                  </ul>
                </div>
              </div>
              <div class="col-md-2 col-md-offset-1 col-sm-4 col-xs-12">
                <div class="widget footer-links">
                  <h5 class="widget-title bottom-line left-align grey">Information</h5>
                  <ul class="list-no-dividers">
                    <li><a href="delivery-info.html">Delivery Information</a></li>
                    <li><a href="about-us.html">About us</a></li>
                    <li><a href="contact.html">Contact us</a></li>
                    <li><a href="faq.html">F.A.Q</a></li>
                  </ul>
                </div>
              </div>
              <div class="col-md-2 col-md-offset-1 col-sm-4 col-xs-12">
                <div class="widget footer-links">
                  <h5 class="widget-title bottom-line left-align grey">Account</h5>
                  <ul class="list-no-dividers">
                    <li><a href="myaccount.html">My account</a></li>
                    <li><a href="shop-cart.html">My cart</a></li>
                    <li><a href="order-history.html">Order history</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="bottom-footer">
            <div class="container">
              <div class="row">
                <div class="col-sm-6 copyright sm-text-center">
                  <span>Â© <script>document.querySelector(".copyright span").innerHTML += new Date().getFullYear();</script> ThriftHub Malaysia | Made by <a href="">Group 2</a></span>
                </div>
                <div class="col-sm-6 col-xs-12 footer-payment-systems text-right sm-text-center mt-sml-10">
                  <i class="fa fa-cc-visa"></i>
                  <i class="fa fa-cc-mastercard"></i>
                  <i class="fa fa-cc-amex"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </footer>

      <div id="back-to-top">
        <a href="#top"><i class="fa fa-angle-up"></i></a>
      </div>

    </div> <!-- end content wrapper -->
  </main> <!-- end main wrapper -->

  <!-- jQuery Scripts -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/plugins.js"></script>
  <script type="text/javascript" src="js/owl.carousel.min.js"></script> <!-- Corrected and verified path -->
  <script type="text/javascript" src="js/scripts.js"></script>
  <script type="module">
    // Import Firebase services
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getStorage, ref, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
    import { db, storage, auth } from "/guest-cust/customer/auth/firebase.js"; // Import Firebase services from firebase.js

    // Load video from Firebase Storage
    async function loadVideo() {
      try {
        // Use the exact path from Firebase Storage (root level)
        const videoRef = ref(storage, 'thrift-hub-vid.mp4'); // Matches your uploaded video path
        const videoUrl = await getDownloadURL(videoRef);

        const videoSource = document.getElementById("videoSource");
        videoSource.src = videoUrl;
        const video = document.getElementById("firebaseVideo");
        video.load(); // Load the video
        video.play(); // Attempt to autoplay (muted due to browser restrictions)
        video.muted = true; // Ensure muted autoplay works
      } catch (error) {
        console.error("Error loading video from Firebase Storage:", error);
      }
    }

    // Handle video end and slide transition
    document.addEventListener("DOMContentLoaded", () => {
      // Show Ramadan/Hari Raya pop-up on page load
      const ramadanPopup = document.getElementById("ramadanPopup");
      ramadanPopup.style.display = "flex";

      // Handle closing the Ramadan/Hari Raya pop-up and playing with sound
      document.getElementById("close").addEventListener("click", () => {
        const video = document.getElementById("firebaseVideo");
        video.muted = false; // Unmute the video
        if (video.paused) {
          video.play().catch(error => {
            console.error("Error playing video with sound:", error);
          });
        }
        ramadanPopup.style.display = "none"; // Hide pop-up after interaction
      });

      // Load and autoplay the video on page load (muted)
      loadVideo();

      // Cart functionality (unchanged from your original code)
      let cart = JSON.parse(localStorage.getItem('cart')) || [];

      const cartBadge = document.getElementById('cartBadge');
      const navCartItems = document.getElementById('navCartItems');
      const navCartSubtotal = document.getElementById('navCartSubtotal');
      const cartIcon = document.getElementById('cartIcon');

      function updateCartDisplay() {
          // Update cart badge (number of items)
          cartBadge.textContent = cart.reduce((total, item) => total + (item.quantity || 1), 0) || 0;

          // Update cart items in the dropdown
          if (cart.length === 0) {
              navCartItems.innerHTML = '<p class="nav-cart-item">Your cart is empty.</p>';
              navCartSubtotal.textContent = 'RM0.00';
          } else {
              navCartItems.innerHTML = '';
              cart.forEach((item) => {
                  const itemHtml = `
                      <div class="nav-cart-item clearfix">
                          <div class="nav-cart-img">
                              <a href="shop-single.html?id=${item.id}">
                                  <img src="${item.imageUrl || 'img/shop/shop_item_1.jpg'}" alt="${item.name}">
                              </a>
                          </div>
                          <div class="nav-cart-title">
                              <a href="shop-single.html?id=${item.id}">
                                  ${item.name}
                              </a>
                              <div class="nav-cart-price">
                                  <span>${item.quantity || 1} x</span>
                                  <span>RM${item.price.toFixed(2)}</span>
                              </div>
                          </div>
                          <div class="nav-cart-remove">
                              <a href="#" class="remove" data-id="${item.id}" title="Remove this item">
                                  <i class="ui-close"></i>
                              </a>
                          </div>
                      </div>
                  `;
                  navCartItems.insertAdjacentHTML('beforeend', itemHtml);
              });

              // Update subtotal in the dropdown
              const subtotal = cart.reduce((sum, item) => sum + (item.price * (item.quantity || 1)), 0);
              navCartSubtotal.textContent = `RM${subtotal.toFixed(2)}`;
          }
      }

      navCartItems.addEventListener('click', (e) => {
        const removeLink = e.target.closest('.remove');
        if (removeLink) {
          e.preventDefault();
          const productId = removeLink.getAttribute('data-id');
          cart = cart.filter(item => item.id !== productId);
          localStorage.setItem('cart', JSON.stringify(cart));
          updateCartDisplay();
        }
      });

      // Initial cart display
      updateCartDisplay();

      // Listen for cart updates from localStorage changes (across pages)
      window.addEventListener('storage', () => {
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            updateCartDisplay();
        });

      // Add click event to cart icon to toggle cart dropdown visibility
      cartIcon.addEventListener('click', (e) => {
          e.preventDefault();
          const cartContainer = cartIcon.closest('.nav-cart').querySelector('.nav-cart-container');
          cartContainer.style.display = cartContainer.style.display === 'block' ? 'none' : 'block';
      });

      // Close cart dropdown when clicking outside
      document.addEventListener('click', (e) => {
          const cartContainer = document.querySelector('.nav-cart-container');
          if (!cartIcon.contains(e.target) && !cartContainer.contains(e.target)) {
              cartContainer.style.display = 'none';
          }
      });

      // Handle video end and swift slide transition
      const video = document.getElementById("firebaseVideo");
      video.addEventListener("ended", () => {
        const owl = $("#owl-hero").data('owl.carousel');
        if (owl) {
          owl.options.animateOut = 'fadeOut'; // Swift fade-out animation
          owl.options.animateIn = 'fadeIn';    // Swift fade-in animation
          owl.next(); // Move to the next slide swiftly
        }
      });

      // Ensure authenticated access
      onAuthStateChanged(auth, (user) => {
        if (!user) {
          console.warn("User not authenticated. Video access may be restricted.");
          window.location.href = "/login.html"; // Adjust path as needed
        } else {
          loadVideo(); // Load video only if authenticated
        }
      });

      // Programmatic Google Cloud Translate API
      async function translateText(text, targetLang) {
        const apiKey = "AIzaSyARV7pg1hw8TQhNYV1f-FbrAE6Hih2FxmQ"; // Replace with your Google Cloud API key
        const url = `https://translation.googleapis.com/language/translate/v2?key=${apiKey}&q=${encodeURIComponent(text)}&target=${targetLang}&source=en`;
        try {
          const response = await fetch(url);
          const data = await response.json();
          return data.data.translations[0].translatedText;
        } catch (error) {
          console.error("Translation error:", error);
          return text;
        }
      }

      async function updateTranslations(lang) {
        // Select all text-containing elements, excluding scripts, styles, and specific non-text elements
        const elements = document.querySelectorAll("body *:not(script):not(style):not(img):not(video):not(source):not(link):not(meta)");
        for (const element of elements) {
          // Reset translated state for all elements before translating
          element.removeAttribute('data-translated');

          if (element.childNodes.length === 1 && element.childNodes[0].nodeType === Node.TEXT_NODE) {
            const text = element.textContent.trim();
            if (text) {
              let translated = await translateText(text, lang);
              // Special handling for Jawi (ms-Arab): Convert standard Malay to Jawi script if possible
              if (lang === 'ms-Arab') {
                translated = convertToJawi(translated); // Custom function for Jawi conversion
              }
              element.textContent = translated;
              element.setAttribute('data-translated', 'true'); // Mark as translated
              if (lang === 'ms-Arab') {
                element.classList.add('jawi-text'); // Apply Jawi font class
              } else {
                element.classList.remove('jawi-text'); // Remove Jawi font class for other languages
              }
            }
          } else {
            // Handle elements with mixed content (e.g., text and children)
            for (const child of element.childNodes) {
              if (child.nodeType === Node.TEXT_NODE && child.textContent.trim()) {
                const text = child.textContent.trim();
                if (!child.parentElement.hasAttribute('data-translated')) {
                  let translated = await translateText(text, lang);
                  if (lang === 'ms-Arab') {
                    translated = convertToJawi(translated); // Custom function for Jawi conversion
                  }
                  child.textContent = translated;
                  child.parentElement.setAttribute('data-translated', 'true'); // Mark parent as translated
                  if (lang === 'ms-Arab') {
                    child.parentElement.classList.add('jawi-text'); // Apply Jawi font class
                  } else {
                    child.parentElement.classList.remove('jawi-text'); // Remove Jawi font class for other languages
                  }
                }
              }
            }
          }
        }
        document.getElementById("currentLanguage").textContent = lang === "en" ? "ENG" : 
                                                              lang === "ms" ? "MS" : 
                                                              lang === "zh" ? "ZH" : 
                                                              lang === "zh-TW" ? "ZH-TW" : 
                                                              lang === "ko" ? "KO" : 
                                                              lang === "ja" ? "JA" : 
                                                              lang === "ms-Arab" ? "MS-JAWI" : 
                                                              "TA";
      }

      // Custom function to convert standard Malay to Jawi script (simplified example)
      function convertToJawi(text) {
        // This is a basic example; you may need a more comprehensive mapping or a third-party library
        const jawiMapping = {
          'a': 'Ø§', 'b': 'Ø¨', 'c': 'Ø¬', 'd': 'Ø¯', 'e': 'Û', 'f': 'Ù', 'g': 'Ú¯', 'h': 'Ù', 'i': 'Ù', 'j': 'Ø¬',
          'k': 'Ù', 'l': 'Ù', 'm': 'Ù', 'n': 'Ù', 'o': 'Ù', 'p': 'Ù¾', 'q': 'Ù', 'r': 'Ø±', 's': 'Ø³', 't': 'Øª',
          'u': 'Ù', 'v': 'Ú¤', 'w': 'Ù', 'x': 'Ú©Ø³', 'y': 'Ù', 'z': 'Ø²'
          // Add more mappings for vowels, diacritics, and special characters as needed
        };
        let jawiText = '';
        for (let char of text.toLowerCase()) {
          jawiText += jawiMapping[char] || char; // Use mapping if available, otherwise keep original char
        }
        return jawiText;
      }

      document.querySelectorAll(".language-option").forEach(option => {
        option.addEventListener("click", async (e) => {
          e.preventDefault();
          const lang = option.getAttribute("data-lang");
          await updateTranslations(lang);
        });
      });
    });

    // Owl Carousel Initialization for Hero Slider
    $(document).ready(function(){
      $("#owl-hero").owlCarousel({
        items: 1,              
        loop: true,            
        autoplay: false,       
        autoplayTimeout: 3000, 
        smartSpeed: 200,       
        nav: true,             
        dots: true,            
        video: true,           
        lazyLoad: true,        
        videoHeight: '100vh'   
      });
    });
  </script>

  <!-- CSS for Video, Text Positioning, Splash Screen, and Slider Styling -->
  <style>
    .hero-wrap {
      position: relative;
      width: 100%;
      overflow: hidden;
    }
    .hero-slide.overlay {
      position: relative;
      width: 100%;
      height: 100vh; /* Full viewport height for full-screen video */
      overflow: hidden;
    }
    .hero-slide.overlay::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5); /* Dark overlay to match image slides */
      z-index: 2;
    }
    .hero-video {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      object-fit: cover; /* Ensure video fills the slide completely, cropping if necessary */
    }
    .hero-holder {
      position: relative;
      z-index: 3;
      height: 100%;
      display: flex;
      align-items: flex-end; /* Align items to the bottom */
      justify-content: center; /* Center horizontally */
    }
    .hero-message {
      position: relative;
      z-index: 3;
      color: #fff; /* Ensure text is visible over the overlay */
      text-align: center;
      padding-bottom: 20px; /* Add some padding at the bottom */
    }
    .hero-title {
      font-size: 48px; /* Adjust as needed */
      margin-bottom: 10px;
    }
    .hero-subtitle {
      font-size: 24px; /* Adjust as needed */
      margin-bottom: 0;
    }
    /* Ensure Owl Carousel compatibility and full-screen video */
    .owl-carousel .owl-item .hero-video {
      display: block;
    }
    #owl-hero .owl-stage-outer, #owl-hero .owl-stage, #owl-hero .owl-item {
      height: 100vh !important;
    }
    #owl-hero .owl-item.active {
      height: 100vh !important;
    }
    /* Animation for swift transitions */
    .owl-animated-out {
      -webkit-animation-duration: 0.2s !important;
      animation-duration: 0.2s !important;
    }
    .owl-animated-in {
      -webkit-animation-duration: 0.2s !important;
      animation-duration: 0.2s !important;
    }

    /* Ensure Jawi text renders correctly */
    .jawi-text {
      font-family: 'Scheherazade', Arial, sans-serif;
      direction: rtl; /* Right-to-left for Jawi script */
    }
  </style>
</body>

</html>