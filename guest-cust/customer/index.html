<!DOCTYPE html>
<html lang="en">

<head>
  <title>ThriftHub Malaysia | Homepage</title>

  <meta charset="utf-8">
  <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="">

  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700%7COpen+Sans:400,400i,600,700' rel='stylesheet'>

  <!-- Css -->
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/magnific-popup.css" />
  <link rel="stylesheet" href="css/font-icons.css" />
  <link rel="stylesheet" href="css/sliders.css" /> <!-- Ensure this includes Owl Carousel styles -->
  <link rel="stylesheet" href="css/style.min.css" />

  <!-- Favicons -->
  <link rel="shortcut icon" href="img/favicon.ico">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">

  <!-- Firebase Scripts (as modules) -->
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
  <script type="module" src="firebase-config.js"></script> <!-- Verify this path -->
  <script type="module" src="ThriftHub_G02/frontend/js/script.js"></script> <!-- Verify this path -->

</head>

<body class="relative">

  <!-- Preloader -->
  <div class="loader-mask">
    <div class="loader">
      <div></div>
      <div></div>
    </div>
  </div>

  <main class="main-wrapper">

    <header class="nav-type-1">

      <!-- Fullscreen search -->
      <div class="search-wrap">
        <div class="search-inner">
          <div class="search-cell">
            <form method="get">
              <div class="search-field-holder">
                <input type="search" class="form-control main-search-input" placeholder="Search for">
                <i class="ui-close search-close" id="search-close"></i>
              </div>            
            </form>
          </div>
        </div>        
      </div> <!-- end fullscreen search -->

      <!-- Top Bar -->
      <div class="top-bar hidden-xs">
        <div class="container">
          <div class="top-bar-links flex-parent">
            <ul class="top-bar-currency-language">
              <li>
                Currency: <a href="#">MYR<i class="fa fa-angle-down"></i></a>
                <div class="currency-dropdown">
                  <ul>
                    <li><a href="#">MYR</a></li>
                    <li><a href="#">SGD</a></li>
                  </ul>
                </div>
              </li>
              <li class="language">
                Language: <a href="#">ENG<i class="fa fa-angle-down"></i></a>
                <div class="language-dropdown">
                  <ul>
                    <li><a href="#">English</a></li>
                    <li><a href="#">Malay</a></li>
                  </ul>
                </div>
              </li>
            </ul>
            <ul class="top-bar-acc" style="margin-right: 38%;">
              Pre-Raya Sale: Enjoy Free Shipping! <a href="m-tops.html" style="color:darkgoldenrod;">Shop Now</a>
            </ul>
          </div>
        </div>
      </div> <!-- end top bar -->

      <nav class="navbar navbar-responsive-top">
        <div class="navigation" id="sticky-nav">
          <div class="container relative">
            <nav class="navbar navbar-static-top">
              <div class="navigation" id="sticky-nav">
                <div class="container relative">
                  <div class="row flex-parent">
                    <div class="nav-wrap flex-child" style="margin-left: -60px;">
                      <div class="collapse navbar-collapse text-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">
                          <li class="dropdown">
                            <a href="#">Shop</a>
                            <i class="fa fa-angle-down dropdown-trigger"></i>
                            <ul class="dropdown-menu megamenu-wide">
                              <li>
                                <div class="megamenu-wrap container">
                                  <div class="row">
                                    <div class="col-md-2 megamenu-item"></div>
                                    <div class="col-md-3 megamenu-item">
                                      <ul class="menu-list">
                                        <li><span>For Him</span></li>
                                        <li><a href="m-tops.html">Men's Tops & Bottoms</a></li>
                                        <li><a href="m-foot.html">Men's Footwear</a></li>
                                        <li><a href="m-acc.html">Men's Accessories</a></li>
                                        <li><a href="m-bag.html">Men's Bags & Wallets</a></li>
                                      </ul>
                                    </div>
                                    <div class="col-md-3 megamenu-item">
                                      <ul class="menu-list">
                                        <li><span>For Her</span></li>
                                        <li><a href="w-tops.html">Women's Tops & Bottoms</a></li>
                                        <li><a href="w-foot.html">Women's Footwear</a></li>
                                        <li><a href="w-acc.html">Women's Accessories</a></li>
                                        <li><a href="w-bag.html">Women's Bags & Wallets</a></li>
                                      </ul>
                                    </div>
                                    <div class="col-md-3 megamenu-item">
                                      <ul class="menu-list">
                                        <li><span>For Kids</span></li>
                                        <li><a href="kids.html">Kids Fashion</a></li>
                                        <li><a href="kids-foot.html">Kids Footwear</a></li>
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                              </li>
                            </ul>
                          </li>
                          <li class="dropdown"><a href="about-us.html">About Us</a></li>
                          <li class="dropdown"><a href="contact.html">Contact Us</a></li>
                          <li class="dropdown"><a href="faq.html">F.A.Q</a></li>
                        </ul>
                      </div>
                    </div>
                    <div class="navbar-header flex-child" style="margin-left: -130px;">
                      <!-- Logo -->
                      <div class="logo-wrap">
                        <a href="index.html">
                          <img class="thrifthub" width="160" height="50" src="img/thrifthub lg v1.png" alt="ThriftHub Logo">
                        </a>
                      </div>
                      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                      </button>
                      <!-- Mobile cart -->
                      <div class="nav-cart mobile-cart hidden-lg hidden-md">
                        <div class="nav-cart-outer">
                          <div class="nav-cart-inner">
                            <a href="#" class="nav-cart-icon"></a>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="flex-child flex-right nav-right hidden-sm hidden-xs">
                      <ul>
                        <li class="nav-register"><a href="myaccount.html">My Account</a></li>
                        <li class="nav-search-wrap style-2 hidden-sm hidden-xs">
                          <a href="#" class="nav-search search-trigger"><i class="fa fa-search"></i></a>
                        </li>
                        <li class="nav-cart">
                          <div class="nav-cart-outer">
                            <div class="nav-cart-inner">
                              <a href="#" class="nav-cart-icon" id="cartIcon">
                                <span class="nav-cart-badge" id="cartBadge">0</span>
                              </a>
                            </div>
                          </div>
                          <div class="nav-cart-container">
                            <div class="nav-cart-items" id="navCartItems">
                              <!-- Cart items will be dynamically inserted here -->
                            </div>
                            <div class="nav-cart-summary">
                              <span>Cart Subtotal</span>
                              <span class="total-price" id="navCartSubtotal">RM0.00</span>
                            </div>
                            <div class="nav-cart-actions mt-20">
                              <a href="shop-cart.html" class="btn btn-md btn-dark"><span>View Cart</span></a>
                              <a href="shop-checkout.html" class="btn btn-md btn-color mt-10"><span>Proceed to Checkout</span></a>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </nav>
          </div>
        </div>
      </nav>
    </header>

    <div class="content-wrapper oh">

      <!-- Hero Slider -->
      <section class="hero-wrap text-center relative">
        <div id="owl-hero" class="owl-carousel owl-theme light-arrows slider-animated">
          <!-- Video Slide with YouTube Embed -->
          <div class="hero-slide overlay">
            <iframe class="hero-video" src="https://www.youtube.com/embed/v_ehd3m3tUs?autoplay=1&mute=1&loop=1&playlist=v_ehd3m3tUs" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen></iframe>
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Welcome to ThriftHub 2025</h1>
                  <h2 class="hero-subtitle lines">Discover Affordable Thrift Shopping</h2>
                  <div class="buttons-holder">
                    <a href="m-tops.html" class="btn btn-lg btn-transparent"><span>Shop Now</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Existing Image Slides -->
          <div class="hero-slide overlay" style="background-image:url(img/hero/pexels-cottonbro-6068964.jpg)">
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Let's Thrift 2025</h1>
                  <h2 class="hero-subtitle lines">ThriftHub Malaysia</h2>
                  <div class="buttons-holder">
                    <a href="m-tops.html" class="btn btn-lg btn-transparent"><span>Shop Now</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="hero-slide overlay" style="background-image:url(img/hero/pexels-mallonymedia-4903411.jpg)">
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Exclusive Products</h1>
                  <h2 class="hero-subtitle lines">Get awesome items only in ThriftHub Malaysia</h2>
                  <div class="buttons-holder">
                    <a href="m-tops.html" class="btn btn-lg btn-transparent"><span>Shop Now</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="hero-slide overlay" style="background-image:url(img/hero/IMG_0944.JPG)">
            <div class="container">
              <div class="hero-holder">
                <div class="hero-message">
                  <h1 class="hero-title nocaps">Enjoy Online Shopping</h1>
                  <h2 class="hero-subtitle lines">ThriftHub Malaysia</h2>
                  <div class="buttons-holder">
                    <a href="m-tops.html" class="btn btn-lg btn-transparent"><span>Shop Now</span></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section> <!-- end hero slider -->

      <!-- Promo Banners -->
      <section class="section-wrap promo-banners pb-30">
        <div class="container">
          <div class="row">
            <div class="col-xs-4 col-xxs-12 mb-30 promo-banner">
              <a href="m-tops.html">
                <img src="img/hero/IMG_1236.JPG" width="360" height="620" alt="">
                <div class="overlay"></div>
                <div class="promo-inner valign">
                  <h2>for him</h2>
                  <span>Best Selling Deals</span>
                </div>
              </a>
            </div>
            <div class="col-xs-4 col-xxs-12 mb-30 promo-banner">
              <a href="w-tops.html">
                <img src="img/hero/homewomen.jpg" width="360" height="620" alt="">
                <div class="overlay"></div>
                <div class="promo-inner valign">
                  <h2>for her</h2>
                  <span>Hot Trends</span>
                </div>
              </a>
            </div>
            <div class="col-xs-4 col-xxs-12 mb-30 promo-banner">
              <a href="kids.html">
                <img src="img/hero/homekids.jpg" width="360" height="620" alt="">
                <div class="overlay"></div>
                <div class="promo-inner valign">
                  <h2>for kids</h2>
                  <span>New Collection</span>
                </div>
              </a>
            </div>
          </div>
        </div>
      </section> <!-- end promo banners -->

      <!-- Newsletter -->
      <section class="newsletter" id="subscribe">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 text-center">
              <h4>Get the latest updates</h4>
              <form class="relative newsletter-form">
                <input type="email" class="newsletter-input" placeholder="Enter your email">
                <input type="submit" class="btn btn-lg btn-dark newsletter-submit" value="Subscribe">
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer Type-1 -->
      <footer class="footer footer-type-1">
        <div class="container">
          <div class="footer-widgets">
            <div class="row">
              <div class="col-md-3 col-sm-12 col-xs-12">
                <div class="widget footer-about-us">
                  <img src="img/thrifthub lg v1.png" alt="" class="logo">
                  <p class="mb-40">ThriftHub store offers wide variety of used clothes at an affordable price.</p>
                  <div class="footer-socials">
                    <div class="social-icons nobase">
                      <a href="https://x.com/thrifthub_mls?s=21"><i class="fa fa-twitter"></i></a>
                      <a href="https://www.facebook.com/share/15CSCqVAFu/?mibextid=wwXIfr"><i class="fa fa-facebook"></i></a>
                      <a href="https://www.instagram.com/thrifthub_malaysia?igsh=YTFoYWFlMDB1Nmc2&utm_source=qr"><i class="fa fa-instagram"></i></a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-2 col-md-offset-1 col-sm-4 col-xs-12">
                <div class="widget footer-links">
                  <h5 class="widget-title bottom-line left-align grey">Explore</h5>
                  <ul class="list-no-dividers">
                    <li><a href="m-tops.html">Mens</a></li>
                    <li><a href="w-tops.html">Womens</a></li>
                    <li><a href="kids.html">Kids</a></li>
                  </ul>
                </div>
              </div>
              <div class="col-md-2 col-md-offset-1 col-sm-4 col-xs-12">
                <div class="widget footer-links">
                  <h5 class="widget-title bottom-line left-align grey">Information</h5>
                  <ul class="list-no-dividers">
                    <li><a href="delivery-info.html">Delivery Information</a></li>
                    <li><a href="about-us.html">About us</a></li>
                    <li><a href="contact.html">Contact us</a></li>
                    <li><a href="faq.html">F.A.Q</a></li>
                  </ul>
                </div>
              </div>
              <div class="col-md-2 col-md-offset-1 col-sm-4 col-xs-12">
                <div class="widget footer-links">
                  <h5 class="widget-title bottom-line left-align grey">Account</h5>
                  <ul class="list-no-dividers">
                    <li><a href="myaccount.html">My account</a></li>
                    <li><a href="shop-cart.html">My cart</a></li>
                    <li><a href="order-history.html">Order history</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="bottom-footer">
            <div class="container">
              <div class="row">
                <div class="col-sm-6 copyright sm-text-center">
                  <span>Â© <script>document.querySelector(".copyright span").innerHTML += new Date().getFullYear();</script> ThriftHub Malaysia | Made by <a href="">Group 2</a></span>
                </div>
                <div class="col-sm-6 col-xs-12 footer-payment-systems text-right sm-text-center mt-sml-10">
                  <i class="fa fa-cc-visa"></i>
                  <i class="fa fa-cc-mastercard"></i>
                  <i class="fa fa-cc-amex"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </footer>

      <div id="back-to-top">
        <a href="#top"><i class="fa fa-angle-up"></i></a>
      </div>

    </div> <!-- end content wrapper -->
  </main> <!-- end main wrapper -->

  <!-- jQuery Scripts -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/plugins.js"></script>
  <script type="text/javascript" src="js/owl.carousel.min.js"></script> <!-- Ensure Owl Carousel JS is included -->
  <script type="text/javascript" src="js/scripts.js"></script>
  <script type="module">
    // No Firebase integration needed here since cart is stored in localStorage
    document.addEventListener("DOMContentLoaded", () => {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        const cartBadge = document.getElementById('cartBadge');
        const navCartItems = document.getElementById('navCartItems');
        const navCartSubtotal = document.getElementById('navCartSubtotal');
        const cartIcon = document.getElementById('cartIcon');

        function updateCartDisplay() {
            // Update cart badge (number of items)
            cartBadge.textContent = cart.reduce((total, item) => total + (item.quantity || 1), 0) || 0;

            // Update cart items in the dropdown
            if (cart.length === 0) {
                navCartItems.innerHTML = '<p class="nav-cart-item">Your cart is empty.</p>';
                navCartSubtotal.textContent = 'RM0.00';
            } else {
                navCartItems.innerHTML = '';
                cart.forEach((item) => {
                    const itemHtml = `
                        <div class="nav-cart-item clearfix">
                            <div class="nav-cart-img">
                                <a href="shop-single.html?id=${item.id}">
                                    <img src="${item.imageUrl || 'img/shop/shop_item_1.jpg'}" alt="${item.name}">
                                </a>
                            </div>
                            <div class="nav-cart-title">
                                <a href="shop-single.html?id=${item.id}">
                                    ${item.name}
                                </a>
                                <div class="nav-cart-price">
                                    <span>${item.quantity || 1} x</span>
                                    <span>RM${item.price.toFixed(2)}</span>
                                </div>
                            </div>
                            <div class="nav-cart-remove">
                                <a href="#" class="remove" data-id="${item.id}" title="Remove this item">
                                    <i class="ui-close"></i>
                                </a>
                            </div>
                        </div>
                    `;
                    navCartItems.insertAdjacentHTML('beforeend', itemHtml);
                });

                // Update subtotal in the dropdown
                const subtotal = cart.reduce((sum, item) => sum + (item.price * (item.quantity || 1)), 0);
                navCartSubtotal.textContent = `RM${subtotal.toFixed(2)}`;

                // Add event listeners for remove buttons in the dropdown
                document.querySelectorAll('.nav-cart-remove .remove').forEach(remove => {
                    remove.addEventListener('click', (e) => {
                        e.preventDefault();
                        const productId = e.target.getAttribute('data-id');
                        cart = cart.filter(item => item.id !== productId);
                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartDisplay();
                    });
                });
            }
        }

        // Initial cart display
        updateCartDisplay();

        // Listen for cart updates from localStorage changes (across pages)
        window.addEventListener('storage', () => {
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            updateCartDisplay();
        });

        // Add click event to cart icon to toggle cart dropdown visibility
        cartIcon.addEventListener('click', (e) => {
            e.preventDefault();
            const cartContainer = cartIcon.closest('.nav-cart').querySelector('.nav-cart-container');
            cartContainer.style.display = cartContainer.style.display === 'block' ? 'none' : 'block';
        });

        // Close cart dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const cartContainer = document.querySelector('.nav-cart-container');
            if (!cartIcon.contains(e.target) && !cartContainer.contains(e.target)) {
                cartContainer.style.display = 'none';
            }
        });
    });

    // Owl Carousel Initialization for Hero Slider
    $(document).ready(function(){
      $("#owl-hero").owlCarousel({
        items: 1,              // One slide at a time
        loop: true,            // Loop through slides
        autoplay: false,       // Disable initial autoplay to let video play first
        autoplayTimeout: 5000, // 5 seconds per slide (adjust as needed for video duration)
        nav: true,             // Navigation arrows
        dots: true,            // Navigation dots
        video: true,           // Enable video support
        lazyLoad: true,        // Lazy load content
        videoHeight: 600       // Match the height of .hero-slide.overlay
      });
    });
  </script>

  <!-- CSS for Video and Slider Styling -->
  <style>
    .hero-wrap {
      position: relative;
      width: 100%;
      overflow: hidden;
    }
    .hero-slide.overlay {
      position: relative;
      width: 100%;
      height: 600px; /* Fixed height for consistency, adjust as needed */
      overflow: hidden;
    }
    .hero-slide.overlay::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5); /* Dark overlay to match image slides */
      z-index: 2;
    }
    .hero-video {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      border: none; /* Remove iframe border */
    }
    .hero-holder {
      position: relative;
      z-index: 3;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .hero-message {
      position: relative;
      z-index: 3;
      color: #fff; /* Ensure text is visible over the overlay */
      text-align: center;
    }
    .hero-title {
      font-size: 48px; /* Adjust as needed */
      margin-bottom: 10px;
    }
    .hero-subtitle {
      font-size: 24px; /* Adjust as needed */
      margin-bottom: 20px;
    }
    /* Ensure Owl Carousel compatibility */
    .owl-carousel .owl-item .hero-video {
      display: block;
    }
  </style>

</body>

</html>